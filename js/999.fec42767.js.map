{"version":3,"file":"js/999.fec42767.js","mappings":"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","sources":["webpack://joywork/./src/widgets/editPlanFloor/useCanvas.ts","webpack://joywork/./src/widgets/editPlanFloor/connectionWithLayout.vue?d416","webpack://joywork/./src/widgets/editPlanFloor/connectionWithLayout.vue","webpack://joywork/./src/widgets/editPlanFloor/canvasMarkupFloor.vue?ed09","webpack://joywork/./src/widgets/editPlanFloor/canvasMarkupFloor.vue","webpack://joywork/./src/widgets/editPlanFloor/markupFloor.vue?3d02","webpack://joywork/./src/widgets/editPlanFloor/markupFloor.vue","webpack://joywork/./src/pages/EditPlanFloors.vue?d34f","webpack://joywork/./src/pages/EditPlanFloors.vue"],"sourcesContent":["import { ref } from \"vue\";\n\ntype ImageSize = {\n  width: number;\n  height: number;\n};\n\ntype Point = {\n  x: number;\n  y: number;\n};\n\ntype Figure = {\n  readonly id: string;\n  points: Point[];\n  bg: string;\n};\n\nexport type TContextMenuOptions = {\n  isVisible: boolean;\n  x: number;\n  y: number;\n};\n\nexport default function useCanvas() {\n  const canvas = ref<HTMLCanvasElement | null>(null);\n  const ctx = ref<CanvasRenderingContext2D | null>(null);\n  const sourceImage = ref<HTMLImageElement>();\n  const imageSize = ref<ImageSize | null>(null);\n  const figures = ref<Figure[]>([]);\n  const currentFigure = ref<Point[] | null>(null);\n  const currentHoveredFigure = ref<string | null>(null);\n  const idFigureOnContextMenu = ref<string>(\"\");\n  const contextMenuOptions = ref<TContextMenuOptions>({\n    isVisible: false,\n    x: 0,\n    y: 0,\n  });\n\n  function clickHandler(e: MouseEvent) {\n    if (!sourceImage.value || !ctx.value || !canvas.value) return;\n\n    if (contextMenuOptions.value.isVisible) {\n      contextMenuOptions.value.isVisible = false;\n      return;\n    }\n\n    const x = e.clientX - canvas.value.getBoundingClientRect().left;\n    const y = e.clientY - canvas.value.getBoundingClientRect().top;\n\n    if (currentFigure.value === null) {\n      currentFigure.value = [];\n    }\n\n    if (currentFigure.value !== null) {\n      currentFigure.value.push({ x, y });\n\n      if (isClosedFigure(currentFigure.value)) {\n        figures.value.push({\n          id: randomId(),\n          points: currentFigure.value,\n          bg: getRandomColor() as string,\n        });\n        localStorage.setItem(\"figures\", JSON.stringify(figures.value));\n        currentFigure.value = null;\n      }\n    }\n\n    redraw();\n  }\n\n  function contextmenuHandler(e: MouseEvent) {\n    e.preventDefault();\n    if (!sourceImage.value || !ctx.value || !canvas.value) return;\n\n    if (currentFigure.value && currentFigure.value.length > 0) {\n      currentFigure.value.pop();\n      redraw();\n    } else {\n      const x = e.clientX - canvas.value.getBoundingClientRect().left;\n      const y = e.clientY - canvas.value.getBoundingClientRect().top;\n      for (const figure of figures.value) {\n        const path = createFigurePath(figure.points);\n        if (ctx.value.isPointInPath(path, x, y)) {\n          idFigureOnContextMenu.value = figure.id;\n          contextMenuOptions.value = {\n            isVisible: true,\n            x,\n            y,\n          };\n        }\n      }\n    }\n  }\n\n  function mousemoveHandler(e: MouseEvent) {\n    if (!sourceImage.value || !ctx.value || !canvas.value) return;\n\n    const x = e.clientX - canvas.value.getBoundingClientRect().left;\n    const y = e.clientY - canvas.value.getBoundingClientRect().top;\n\n    for (const figure of figures.value) {\n      const path = createFigurePath(figure.points);\n      if (ctx.value.isPointInPath(path, x, y)) {\n        currentHoveredFigure.value = figure.id;\n        redraw();\n        return;\n      }\n    }\n\n    currentHoveredFigure.value = null;\n    redraw();\n  }\n\n  function isClosedFigure(points: Point[]) {\n    if (points.length >= 3) {\n      const firstPoint = points[0];\n      const lastPoint = points[points.length - 1];\n      const distanceX = Math.abs(firstPoint.x - lastPoint.x);\n      const distanceY = Math.abs(firstPoint.y - lastPoint.y);\n      return distanceX < 10 && distanceY < 10; // Check if the last point is close to the first point\n    }\n    return false;\n  }\n\n  function createFigurePath(points: Point[]) {\n    const path = new Path2D();\n    path.moveTo(points[0].x, points[0].y);\n    for (let i = 1; i < points.length; i++) {\n      path.lineTo(points[i].x, points[i].y);\n    }\n    path.closePath();\n    return path;\n  }\n\n  function calculateCenter(points: Point[]) {\n    if (points.length === 0) {\n      return { x: 0, y: 0 };\n    }\n\n    let centerX = 0;\n    let centerY = 0;\n    for (const point of points) {\n      centerX += point.x;\n      centerY += point.y;\n    }\n    centerX /= points.length;\n    centerY /= points.length;\n\n    return { x: centerX, y: centerY };\n  }\n\n  function deleteFigure(id: string) {\n    const index: number | undefined = figures.value.findIndex(\n      (el) => el.id === id\n    );\n    if (index >= 0) figures.value.splice(index, 1);\n\n    localStorage.setItem(\"figures\", JSON.stringify(figures.value));\n\n    redraw();\n  }\n\n  const uploadImage = (file: File, canvasEl: HTMLCanvasElement) => {\n    canvas.value = canvasEl;\n    ctx.value = canvas.value.getContext(\"2d\");\n    imageSize.value = localStorage.getItem(\"imageSize\")\n      ? JSON.parse(localStorage.getItem(\"imageSize\") as string)\n      : null;\n    figures.value = localStorage.getItem(\"figures\")\n      ? JSON.parse(localStorage.getItem(\"figures\") as string)\n      : [];\n    if (file) {\n      const reader = new FileReader();\n      reader.onload = (e: ProgressEvent<FileReader>) => {\n        if (e.target) {\n          const image = new Image();\n          image.onload = () => {\n            sourceImage.value = image;\n            if (imageSize.value) {\n              if (\n                image.naturalWidth !== imageSize.value.width ||\n                image.naturalHeight !== imageSize.value.height\n              ) {\n                localStorage.removeItem(\"figures\");\n                figures.value = [];\n              }\n            }\n            localStorage.setItem(\n              \"imageSize\",\n              JSON.stringify({\n                width: image.naturalWidth,\n                height: image.naturalHeight,\n              })\n            );\n            redraw();\n          };\n          image.src = e.target.result as string;\n        }\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n\n  function redraw() {\n    if (!ctx.value || !sourceImage.value || !canvas.value) return;\n    canvas.value.width = sourceImage.value.naturalWidth;\n    canvas.value.height = sourceImage.value.naturalHeight;\n    ctx.value.clearRect(0, 0, canvas.value.width, canvas.value.height);\n    // Draw the image\n    ctx.value.drawImage(\n      sourceImage.value,\n      0,\n      0,\n      sourceImage.value.naturalWidth,\n      sourceImage.value.naturalHeight\n    );\n    for (const figure of figures.value) {\n      ctx.value.fillStyle = `rgba(${figure.bg}, 0.5)`;\n      ctx.value.fill(createFigurePath(figure.points));\n    }\n    if (currentFigure.value !== null) {\n      ctx.value.fillStyle = \"red\";\n      ctx.value.strokeStyle = \"blue\";\n      for (let i = 0; i < currentFigure.value.length; i++) {\n        const point = currentFigure.value[i];\n        ctx.value.beginPath();\n        ctx.value.arc(point.x, point.y, 5, 0, Math.PI * 2);\n        ctx.value.fill();\n        if (i > 0) {\n          const prevPoint = currentFigure.value[i - 1];\n          ctx.value.moveTo(prevPoint.x, prevPoint.y);\n          ctx.value.lineTo(point.x, point.y);\n          ctx.value.stroke();\n        }\n      }\n    }\n  }\n\n  function getRandomColor(): string | null {\n    const usedColors = new Set(figures.value.map((figure) => figure.bg));\n    const availableColors = [\n      \"#FF5733\",\n      \"#33FF57\",\n      \"#5733FF\",\n      \"#33FFFF\",\n      \"#FFFF33\",\n      \"#FF33FF\",\n    ];\n    const unusedColors = availableColors.filter(\n      (color) => !usedColors.has(hexToRgb(color) as string)\n    );\n    if (unusedColors.length > 0) {\n      const randomIndex = Math.floor(Math.random() * unusedColors.length);\n      return unusedColors[randomIndex].startsWith(\"#\")\n        ? hexToRgb(unusedColors[randomIndex])\n        : unusedColors[randomIndex];\n    } else {\n      // Если все цвета использованы, генерируем случайный цвет\n      const randomColor = `rgb(${Math.floor(Math.random() * 256)}, ${Math.floor(\n        Math.random() * 256\n      )}, ${Math.floor(Math.random() * 256)})`;\n      return randomColor.startsWith(\"#\")\n        ? hexToRgb(randomColor)\n        : hexToRgb(randomColor);\n    }\n  }\n\n  function hexToRgb(hex: string): string | null {\n    const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n    const objColor = result\n      ? {\n          r: parseInt(result[1], 16),\n          g: parseInt(result[2], 16),\n          b: parseInt(result[3], 16),\n        }\n      : null;\n\n    return objColor ? `${objColor.r},${objColor.g},${objColor.b}` : null;\n  }\n\n  function randomId(length = 6) {\n    return Math.random()\n      .toString(36)\n      .substring(2, length + 2);\n  }\n\n  return {\n    figures,\n    sourceImage,\n    idFigureOnContextMenu,\n    contextMenuOptions,\n    clickHandler,\n    contextmenuHandler,\n    mousemoveHandler,\n    uploadImage,\n    deleteFigure,\n  };\n}\n","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, isRef as _isRef, withCtx as _withCtx, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-448d2cce\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"title 2xl:text-[32px] xl:text-[28px]\" }, \" Связать размеченную область с планировкой \", -1))\nconst _hoisted_2 = { class: \"items grid grid-cols-5 gap-7.5\" }\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"itemPlan__title\" }, \"Тип планировки\", -1))\nconst _hoisted_4 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"itemPlan__place\" }, \"1 подъезд 1 этаж 2к\", -1))\nconst _hoisted_5 = { class: \"itemPlan__image\" }\nconst _hoisted_6 = [\"src\"]\n\nimport { toRefs } from \"vue\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'connectionWithLayout',\n  props: {\n    visibleWindow: { type: Boolean }\n  },\n  emits: [\"update:selectPlan\", \"update:visibleWindow\"],\n  setup(__props: any, { emit: emits }) {\n\nconst props = __props;\n\n\nconst { visibleWindow } = toRefs(props);\n\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_Dialog = _resolveComponent(\"Dialog\")!\n\n  return (_openBlock(), _createBlock(_component_Dialog, {\n    modal: \"\",\n    visible: _unref(visibleWindow),\n    \"onUpdate:visible\": [\n      _cache[1] || (_cache[1] = ($event: any) => (_isRef(visibleWindow) ? (visibleWindow).value = $event : null)),\n      _cache[2] || (_cache[2] = ($event: any) => (emits('update:visibleWindow')))\n    ],\n    style: 'width: 95%; height: 90%;',\n    draggable: false\n  }, {\n    header: _withCtx(() => [\n      _hoisted_1\n    ]),\n    default: _withCtx(() => [\n      _createElementVNode(\"div\", _hoisted_2, [\n        (_openBlock(), _createElementBlock(_Fragment, null, _renderList(20, (index) => {\n          return _createElementVNode(\"div\", {\n            class: \"itemPlan hover:!bg-grey-200\",\n            key: `itemPlan` + index,\n            onClick: _cache[0] || (_cache[0] = ($event: any) => (\n            emits('update:selectPlan', 'dhgjkk12'),\n              emits('update:visibleWindow')\n          ))\n          }, [\n            _hoisted_3,\n            _hoisted_4,\n            _createElementVNode(\"div\", _hoisted_5, [\n              _createElementVNode(\"img\", {\n                src: require('@/shared/assets/images/layoutsRoom/layout1.png'),\n                alt: \"\"\n              }, null, 8, _hoisted_6)\n            ])\n          ])\n        }), 64))\n      ])\n    ]),\n    _: 1\n  }, 8, [\"visible\"]))\n}\n}\n\n})","import script from \"./connectionWithLayout.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./connectionWithLayout.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./connectionWithLayout.vue?vue&type=style&index=0&id=448d2cce&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-448d2cce\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createVNode as _createVNode, unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, normalizeStyle as _normalizeStyle, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-3c55c4e8\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"onClick\"]\nconst _hoisted_2 = [\"innerHTML\"]\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"svg\", {\n  width: \"18\",\n  height: \"18\",\n  viewBox: \"0 0 18 18\",\n  fill: \"none\",\n  xmlns: \"http://www.w3.org/2000/svg\",\n  class: \"mr-2.5\"\n}, [\n  /*#__PURE__*/_createElementVNode(\"path\", {\n    d: \"M10.2359 8.4375C10.2359 8.6625 10.0859 8.8125 9.86094 8.8125H8.73594V9.9375C8.73594 10.1625 8.58594 10.3125 8.36094 10.3125C8.13594 10.3125 7.98594 10.1625 7.98594 9.9375V8.8125H6.86094C6.63594 8.8125 6.48594 8.6625 6.48594 8.4375C6.48594 8.2125 6.63594 8.0625 6.86094 8.0625H7.98594V6.9375C7.98594 6.7125 8.13594 6.5625 8.36094 6.5625C8.58594 6.5625 8.73594 6.7125 8.73594 6.9375V8.0625H9.86094C10.0859 8.0625 10.2359 8.2125 10.2359 8.4375ZM14.1734 14.0625C14.0984 14.175 13.9859 14.2125 13.8734 14.2125C13.7984 14.2125 13.7234 14.175 13.6484 14.1375L11.0984 12.15C10.3484 12.7125 9.37344 13.05 8.36094 13.05C5.81094 13.05 3.71094 10.9875 3.71094 8.4C3.71094 5.8125 5.77344 3.75 8.36094 3.75C10.9484 3.75 13.0109 5.8125 13.0109 8.4C13.0109 9.6375 12.5234 10.8 11.6984 11.625L14.1359 13.5C14.2859 13.65 14.3234 13.9125 14.1734 14.0625ZM8.36094 12.3C10.4984 12.3 12.2609 10.575 12.2609 8.4C12.2609 6.225 10.4984 4.5375 8.36094 4.5375C6.22344 4.5375 4.46094 6.2625 4.46094 8.4375C4.46094 10.6125 6.22344 12.3 8.36094 12.3Z\",\n    fill: \"white\"\n  })\n], -1))\n\nimport ConfirmPopup from \"primevue/confirmpopup\";\nimport useCanvas from \"./useCanvas\";\nimport { onMounted, ref, toRefs, watch } from \"vue\";\nimport { PTOptions } from \"primevue/ts-helpers\";\nimport { ConfirmPopupPassThroughOptions } from \"primevue/confirmpopup\";\nimport { useConfirm } from \"primevue/useconfirm\";\nimport ConnectionWithLayout from \"./connectionWithLayout.vue\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'canvasMarkupFloor',\n  props: {\n    image: {}\n  },\n  setup(__props: any) {\n\nconst props = __props;\n\n\nconst visibleWindowChangePlan = ref<boolean>(false);\nconst { image } = toRefs(props);\nconst confirm = useConfirm();\nconst canvas = ref<HTMLCanvasElement | null>(null);\nconst canvasContainer = ref<HTMLElement | null>(null);\nconst itemsContextMenu = ref([\n  {\n    label: \"Связать с планировкой\",\n    icon: `<svg width=\"18\" height=\"19\" viewBox=\"0 0 18 19\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<g clip-path=\"url(#clip0_946_14)\">\n<path d=\"M10.9813 7.51593C10.7681 7.30145 10.5317 7.11132 10.2765 6.94903C9.60047 6.51616 8.81459 6.28614 8.01187 6.28614C6.89772 6.28407 5.82884 6.72674 5.0424 7.51593L1.22709 11.3342C0.441976 12.1209 0.000703868 13.1866 8.69406e-07 14.298C-0.00147543 16.6172 1.87736 18.4985 4.19655 18.4999C5.30898 18.5038 6.37687 18.0632 7.16303 17.2762L10.3125 14.1267C10.3697 14.07 10.4016 13.9926 10.4012 13.912C10.4002 13.7464 10.2652 13.6129 10.0995 13.6138H9.97952C9.32152 13.6161 8.66938 13.4898 8.05988 13.2419C7.94758 13.1957 7.81851 13.2217 7.73295 13.3079L5.46835 15.5755C4.76514 16.2787 3.62501 16.2787 2.9218 15.5755C2.21859 14.8722 2.21859 13.7321 2.9218 13.0289L6.75213 9.20162C7.45478 8.49985 8.59304 8.49985 9.29568 9.20162C9.76922 9.64728 10.5079 9.64728 10.9814 9.20162C11.1851 8.99771 11.3086 8.72727 11.3293 8.43974C11.3512 8.09615 11.2245 7.75966 10.9813 7.51593Z\" fill=\"#666666\"/>\n<path d=\"M16.7679 1.72999C15.1279 0.0900024 12.4689 0.0900024 10.8289 1.72999L7.68247 4.87342C7.59607 4.96024 7.57115 5.09082 7.61948 5.20337C7.66725 5.31624 7.77889 5.38868 7.90142 5.38632H8.01239C8.66962 5.38513 9.32071 5.51248 9.92904 5.76127C10.0413 5.80749 10.1704 5.78141 10.256 5.69529L12.5146 3.43969C13.2178 2.73648 14.3579 2.73648 15.0611 3.43969C15.7643 4.1429 15.7643 5.28302 15.0611 5.98623L12.2476 8.79671L12.2236 8.82371L11.2398 9.80154C10.5371 10.5033 9.39888 10.5033 8.69623 9.80154C8.22269 9.35588 7.48405 9.35588 7.01055 9.80154C6.80552 10.007 6.68189 10.2798 6.6626 10.5694C6.64066 10.913 6.76738 11.2495 7.01055 11.4932C7.35772 11.8419 7.76391 12.1262 8.21032 12.3331C8.27331 12.3631 8.3363 12.3871 8.39928 12.4141C8.46227 12.4411 8.52825 12.462 8.59124 12.486C8.65423 12.5101 8.7202 12.531 8.78319 12.549L8.96017 12.597C9.08014 12.627 9.20014 12.651 9.32309 12.672C9.47122 12.694 9.62039 12.708 9.77003 12.714H9.97998H9.99797L10.1779 12.693C10.2439 12.69 10.3129 12.675 10.3909 12.675H10.4929L10.6998 12.645L10.7958 12.627L10.9698 12.591H11.0028C11.7396 12.406 12.4124 12.0245 12.9494 11.4872L16.7677 7.66893C18.4078 6.02894 18.4078 3.36998 16.7679 1.72999Z\" fill=\"#666666\"/>\n</g>\n<defs>\n<clipPath id=\"clip0_946_14\">\n<rect width=\"18\" height=\"18\" fill=\"white\" transform=\"translate(0 0.5)\"/>\n</clipPath>\n</defs>\n</svg>\n`,\n    command: () => {\n      visibleWindowChangePlan.value = true;\n    },\n  },\n  {\n    label: \"Удалить область\",\n    icon: `<svg width=\"18\" height=\"19\" viewBox=\"0 0 18 19\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M7.5 14C7.69891 14 7.88968 13.921 8.03033 13.7803C8.17098 13.6397 8.25 13.4489 8.25 13.25V8.75C8.25 8.55109 8.17098 8.36032 8.03033 8.21967C7.88968 8.07902 7.69891 8 7.5 8C7.30109 8 7.11032 8.07902 6.96967 8.21967C6.82902 8.36032 6.75 8.55109 6.75 8.75V13.25C6.75 13.4489 6.82902 13.6397 6.96967 13.7803C7.11032 13.921 7.30109 14 7.5 14ZM15 5H12V4.25C12 3.65326 11.7629 3.08097 11.341 2.65901C10.919 2.23705 10.3467 2 9.75 2H8.25C7.65326 2 7.08097 2.23705 6.65901 2.65901C6.23705 3.08097 6 3.65326 6 4.25V5H3C2.80109 5 2.61032 5.07902 2.46967 5.21967C2.32902 5.36032 2.25 5.55109 2.25 5.75C2.25 5.94891 2.32902 6.13968 2.46967 6.28033C2.61032 6.42098 2.80109 6.5 3 6.5H3.75V14.75C3.75 15.3467 3.98705 15.919 4.40901 16.341C4.83097 16.7629 5.40326 17 6 17H12C12.5967 17 13.169 16.7629 13.591 16.341C14.0129 15.919 14.25 15.3467 14.25 14.75V6.5H15C15.1989 6.5 15.3897 6.42098 15.5303 6.28033C15.671 6.13968 15.75 5.94891 15.75 5.75C15.75 5.55109 15.671 5.36032 15.5303 5.21967C15.3897 5.07902 15.1989 5 15 5ZM7.5 4.25C7.5 4.05109 7.57902 3.86032 7.71967 3.71967C7.86032 3.57902 8.05109 3.5 8.25 3.5H9.75C9.94891 3.5 10.1397 3.57902 10.2803 3.71967C10.421 3.86032 10.5 4.05109 10.5 4.25V5H7.5V4.25ZM12.75 14.75C12.75 14.9489 12.671 15.1397 12.5303 15.2803C12.3897 15.421 12.1989 15.5 12 15.5H6C5.80109 15.5 5.61032 15.421 5.46967 15.2803C5.32902 15.1397 5.25 14.9489 5.25 14.75V6.5H12.75V14.75ZM10.5 14C10.6989 14 10.8897 13.921 11.0303 13.7803C11.171 13.6397 11.25 13.4489 11.25 13.25V8.75C11.25 8.55109 11.171 8.36032 11.0303 8.21967C10.8897 8.07902 10.6989 8 10.5 8C10.3011 8 10.1103 8.07902 9.96967 8.21967C9.82902 8.36032 9.75 8.55109 9.75 8.75V13.25C9.75 13.4489 9.82902 13.6397 9.96967 13.7803C10.1103 13.921 10.3011 14 10.5 14Z\" fill=\"#FF3838\"/>\n</svg>\n`,\n    class: \"text-red\",\n    command: (e: Event) => {\n      showTemplate(e);\n    },\n  },\n]);\nconst confirmpopupStyle = ref<PTOptions<ConfirmPopupPassThroughOptions>>({\n  root: {\n    class: [\"!p-3.5\"],\n  },\n  content: {\n    class: [\"!p-0 !mb-2.5\"],\n  },\n  message: {\n    class: [\"!m-0 !text-base !font-normal\"],\n  },\n  footer: {\n    class: [\"!flex !flex-row-reverse !justify-center !gap-x-3 !p-0\"],\n  },\n  rejectButton: {\n    class: [\"!px-3 !font-normal !m-0\"],\n  },\n  acceptButton: {\n    class: [\"!px-3 !font-normal\"],\n  },\n});\nconst showTemplate = (event: Event) => {\n  confirm.require({\n    target: event.currentTarget as HTMLElement,\n    group: \"deletePlan\",\n    message: \"Удалить область?\",\n    acceptLabel: \"Да\",\n    rejectLabel: \"Нет\",\n    acceptClass: \"!bg-red !shadow-none\",\n    rejectClass: \"!bg-green !shadow-none\",\n    accept: () => {\n      deleteFigure(idFigureOnContextMenu.value);\n      contextMenuOptions.value = {\n        isVisible: false,\n        x: 0,\n        y: 0,\n      };\n    },\n    reject: () => {\n      contextMenuOptions.value = {\n        isVisible: false,\n        x: 0,\n        y: 0,\n      };\n      return;\n    },\n  });\n};\n\nconst {\n  figures,\n  idFigureOnContextMenu,\n  contextMenuOptions,\n  uploadImage,\n  clickHandler,\n  contextmenuHandler,\n  mousemoveHandler,\n  deleteFigure,\n} = useCanvas();\n\nwatch(figures, (newV) => {\n  console.log(newV);\n});\n\nwatch(image, (newV) => {\n  if (canvas.value && newV) uploadImage(newV, canvas.value);\n});\n\nwatch(visibleWindowChangePlan, (newV) => {\n  if (!newV)\n    contextMenuOptions.value = {\n      isVisible: false,\n      x: 0,\n      y: 0,\n    };\n});\n\nconst fullScreen = () => {\n  if (canvasContainer.value?.requestFullscreen) {\n    if (!document.fullscreenElement) {\n      canvasContainer.value.requestFullscreen();\n    } else {\n      document.exitFullscreen();\n    }\n  }\n};\n\nonMounted(() => {\n  canvas.value?.addEventListener(\"click\", (e) => clickHandler(e));\n  canvas.value?.addEventListener(\"contextmenu\", (e) => contextmenuHandler(e));\n  canvas.value?.addEventListener(\"mousemove\", (e) => mousemoveHandler(e));\n});\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_Button = _resolveComponent(\"Button\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"editPlanFloors w-full h-full flex justify-center items-center relative\",\n    ref_key: \"canvasContainer\",\n    ref: canvasContainer\n  }, [\n    _createVNode(ConnectionWithLayout, {\n      visibleWindow: visibleWindowChangePlan.value,\n      \"onUpdate:visibleWindow\": _cache[0] || (_cache[0] = ($event: any) => (visibleWindowChangePlan.value = false))\n    }, null, 8, [\"visibleWindow\"]),\n    _createElementVNode(\"div\", {\n      class: _normalizeClass(['contextMenu', _unref(contextMenuOptions).isVisible ? 'open' : '']),\n      style: _normalizeStyle(`left: ${_unref(contextMenuOptions).x}px; top: ${_unref(contextMenuOptions).y}px`)\n    }, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(itemsContextMenu.value, (item) => {\n        return (_openBlock(), _createElementBlock(\"div\", {\n          class: \"contextMenu__item cursor-pointer\",\n          key: `item` + item.label,\n          onClick: ($event: any) => (item.command($event))\n        }, [\n          _createElementVNode(\"div\", {\n            class: \"item__icon\",\n            innerHTML: item.icon\n          }, null, 8, _hoisted_2),\n          _createElementVNode(\"div\", {\n            class: _normalizeClass(['item__text', item.class])\n          }, _toDisplayString(item.label), 3)\n        ], 8, _hoisted_1))\n      }), 128)),\n      _createVNode(_unref(ConfirmPopup), {\n        group: \"deletePlan\",\n        pt: confirmpopupStyle.value\n      }, null, 8, [\"pt\"])\n    ], 6),\n    _createVNode(_component_Button, {\n      severity: \"success\",\n      class: \"!absolute 2xl:!top-[50px] xl:!top-[30px] 2xl:!left-[50px] xl:!left-[30px]\",\n      onClick: _cache[1] || (_cache[1] = ($event: any) => (fullScreen()))\n    }, {\n      default: _withCtx(() => [\n        _hoisted_3,\n        _createTextVNode(\" Развернуть конструктор \")\n      ]),\n      _: 1\n    }),\n    _createElementVNode(\"canvas\", {\n      ref_key: \"canvas\",\n      ref: canvas\n    }, null, 512)\n  ], 512))\n}\n}\n\n})","import script from \"./canvasMarkupFloor.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./canvasMarkupFloor.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./canvasMarkupFloor.vue?vue&type=style&index=0&id=3c55c4e8&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-3c55c4e8\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, vShow as _vShow, withDirectives as _withDirectives, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createTextVNode as _createTextVNode, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-1eaa9a79\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"markupFloor\" }\nconst _hoisted_2 = { class: \"markupFloor__head flex flex-row justify-between items-center mb-7.5\" }\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"markupFloor__title text-[32px]\" }, \"Разметка\", -1))\nconst _hoisted_4 = { class: \"updateImage\" }\nconst _hoisted_5 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"changeFileInput\",\n  class: \"py-2 px-3 bg-green text-white rounded cursor-pointer mx-auto\"\n}, \"Заменить изображение\", -1))\nconst _hoisted_6 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"svg\", {\n  width: \"18\",\n  height: \"18\",\n  viewBox: \"0 0 18 18\",\n  fill: \"none\",\n  xmlns: \"http://www.w3.org/2000/svg\",\n  class: \"w-[22px] h-auto mr-2.5\"\n}, [\n  /*#__PURE__*/_createElementVNode(\"path\", {\n    d: \"M9.00161 8.25C8.8027 8.25 8.61193 8.32902 8.47128 8.46967C8.33063 8.61032 8.25161 8.80109 8.25161 9V11.25C8.25161 11.4489 8.33063 11.6397 8.47128 11.7803C8.61193 11.921 8.8027 12 9.00161 12C9.20052 12 9.39129 11.921 9.53194 11.7803C9.67259 11.6397 9.75161 11.4489 9.75161 11.25V9C9.75161 8.80109 9.67259 8.61032 9.53194 8.46967C9.39129 8.32902 9.20052 8.25 9.00161 8.25ZM9.00161 6C8.85327 6 8.70827 6.04399 8.58493 6.1264C8.46159 6.20881 8.36546 6.32594 8.3087 6.46299C8.25193 6.60003 8.23708 6.75083 8.26602 6.89632C8.29496 7.0418 8.36639 7.17544 8.47128 7.28033C8.57617 7.38522 8.70981 7.45665 8.85529 7.48559C9.00078 7.51453 9.15158 7.49968 9.28862 7.44291C9.42567 7.38614 9.5428 7.29001 9.62521 7.16668C9.70762 7.04334 9.75161 6.89834 9.75161 6.75C9.75161 6.55109 9.67259 6.36032 9.53194 6.21967C9.39129 6.07902 9.20052 6 9.00161 6ZM9.00161 1.5C8.01669 1.5 7.04142 1.69399 6.13148 2.0709C5.22154 2.44781 4.39475 3.00026 3.69831 3.6967C2.29178 5.10322 1.50161 7.01088 1.50161 9C1.49505 10.7319 2.0947 12.4114 3.19661 13.7475L1.69661 15.2475C1.59254 15.353 1.52204 15.4869 1.49401 15.6324C1.46598 15.7779 1.48167 15.9284 1.53911 16.065C1.6014 16.1999 1.70239 16.3133 1.82924 16.3908C1.9561 16.4682 2.10311 16.5063 2.25161 16.5H9.00161C10.9907 16.5 12.8984 15.7098 14.3049 14.3033C15.7114 12.8968 16.5016 10.9891 16.5016 9C16.5016 7.01088 15.7114 5.10322 14.3049 3.6967C12.8984 2.29018 10.9907 1.5 9.00161 1.5ZM9.00161 15H4.05911L4.75661 14.3025C4.82747 14.233 4.88385 14.1502 4.92247 14.0588C4.9611 13.9674 4.9812 13.8692 4.98161 13.77C4.97879 13.5722 4.89792 13.3835 4.75661 13.245C3.77455 12.264 3.16299 10.9729 3.02613 9.59159C2.88926 8.21029 3.23557 6.82425 4.00603 5.66964C4.77649 4.51503 5.92345 3.66327 7.25149 3.25948C8.57954 2.85569 10.0065 2.92485 11.2893 3.45519C12.572 3.98552 13.6312 4.94421 14.2864 6.16792C14.9416 7.39163 15.1523 8.80466 14.8825 10.1663C14.6126 11.5279 13.8791 12.7538 12.8068 13.6352C11.7344 14.5166 10.3897 14.9989 9.00161 15Z\",\n    fill: \"#F57C00\"\n  })\n], -1))\nconst _hoisted_7 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", { class: \"2xl:text-base xl:text-sm\" }, \" Текущий размер изображения 3000x1298px. Если новое изображение будет отличаться по высоте или ширине, то разметка будет удалена. \", -1))\nconst _hoisted_8 = { class: \"markupFloor__content mt-7.5 grid grid-cols-[1fr_312px] gap-x-[90px] 2xl:max-w-[1400px] xl:max-w-[1100px]\" }\nconst _hoisted_9 = { class: \"markupFloor__fields flex flex-col\" }\nconst _hoisted_10 = { class: \"field flex flex-col mb-5\" }\nconst _hoisted_11 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"\",\n  class: \"mb-5\"\n}, [\n  /*#__PURE__*/_createTextVNode(\"Укажите этажи, соответствующие планировке \"),\n  /*#__PURE__*/_createElementVNode(\"span\", { class: \"text-red\" }, \"*\")\n], -1))\nconst _hoisted_12 = { class: \"flex\" }\nconst _hoisted_13 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"smallTitle text-xl mb-5\" }, \"Подъезды\", -1))\nconst _hoisted_14 = { class: \"flex flex-row mb-7.5 items-center\" }\nconst _hoisted_15 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"\",\n  class: \"ml-5 2xl:text-base xl:text-sm\"\n}, \"У подъездов общая планировка\", -1))\nconst _hoisted_16 = {\n  key: 0,\n  class: \"field flex flex-col mb-5\"\n}\nconst _hoisted_17 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"\",\n  class: \"mb-5\"\n}, [\n  /*#__PURE__*/_createTextVNode(\"Привязать планировку к подъездам \"),\n  /*#__PURE__*/_createElementVNode(\"span\", { class: \"text-red\" }, \"*\")\n], -1))\nconst _hoisted_18 = { class: \"flex\" }\nconst _hoisted_19 = { class: \"markupFloor__sideWorld\" }\nconst _hoisted_20 = { class: \"flex flex-row mb-7.5 items-center\" }\nconst _hoisted_21 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"\",\n  class: \"ml-5 2xl:text-base xl:text-sm\"\n}, \"Отображать стороны света\", -1))\nconst _hoisted_22 = { class: \"markupFloor__editPlanFloors border-2 border-dashed border-grey-400 flex justify-center items-center mt-7.5\" }\nconst _hoisted_23 = { class: \"uploadImageBtn\" }\nconst _hoisted_24 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"changeFileInput\",\n  class: \"py-2 px-3 bg-green text-white rounded cursor-pointer mx-auto\"\n}, \"Загрузить изображение этажа\", -1))\n\nimport ChangeSideWorld from \"@/entities/changeSideWorld.vue\";\nimport { MultiSelectPassThroughOptions } from \"primevue/multiselect\";\nimport { PTOptions } from \"primevue/ts-helpers\";\nimport { ref } from \"vue\";\nimport CanvasMarkupFloor from \"./canvasMarkupFloor.vue\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'markupFloor',\n  setup(__props) {\n\nconst sourceImage = ref<File | null>(null);\nconst viewChangeSideWorld = ref<boolean>(false);\nconst isCommon = ref<boolean>(false);\nconst foors = ref<number[]>([1, 2, 3, 4, 5, 6, 7, 8]);\nconst selectedFloors = ref<number[]>([]);\nconst sections = ref<string[]>([\n  \"Секция 1\",\n  \"Секция 2\",\n  \"Секция 3\",\n  \"Секция 4\",\n]);\nconst selectedSections = ref<string[]>([]);\nconst multiSelectStyle = ref<PTOptions<MultiSelectPassThroughOptions>>({\n  root: {\n    class: [\"min-h-[40px] h-auto !py-[3px] !px-[10px] !border-grey-400\"],\n  },\n  label: {\n    class: [\"!p-0\"],\n  },\n  token: {\n    class: [\"!bg-green-300 !p-2.5 !rounded !h-[34px]\"],\n  },\n  wrapper: {\n    class: [\"!p-0\"],\n  },\n  list: {\n    class: [\"!p-0\"],\n  },\n  item: ({ context }) => {\n    return {\n      class: [context.selected ? \"!bg-green-300 text-black\" : \"\"],\n    };\n  },\n  checkboxContainer: {\n    class: [\"!hidden\"],\n  },\n});\nconst changeFile = (e: Event) => {\n  const files = (e.target as HTMLInputElement).files;\n\n  if (files && files.length !== 0) sourceImage.value = files[0];\n  console.log(sourceImage.value);\n};\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_Message = _resolveComponent(\"Message\")!\n  const _component_MultiSelect = _resolveComponent(\"MultiSelect\")!\n  const _component_InputSwitch = _resolveComponent(\"InputSwitch\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _hoisted_3,\n      _withDirectives(_createElementVNode(\"div\", _hoisted_4, [\n        _createElementVNode(\"input\", {\n          type: \"file\",\n          ref: \"inputFile\",\n          class: \"hidden\",\n          id: \"changeFileInput\",\n          onChange: _cache[0] || (_cache[0] = ($event: any) => (changeFile($event)))\n        }, null, 544),\n        _hoisted_5\n      ], 512), [\n        [_vShow, sourceImage.value]\n      ])\n    ]),\n    _createVNode(_component_Message, {\n      severity: \"warn\",\n      closable: false\n    }, {\n      messageicon: _withCtx(() => [\n        _hoisted_6\n      ]),\n      default: _withCtx(() => [\n        _hoisted_7\n      ]),\n      _: 1\n    }),\n    _createElementVNode(\"div\", _hoisted_8, [\n      _createElementVNode(\"div\", _hoisted_9, [\n        _createElementVNode(\"div\", _hoisted_10, [\n          _hoisted_11,\n          _createVNode(_component_MultiSelect, {\n            modelValue: selectedFloors.value,\n            \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((selectedFloors).value = $event)),\n            display: \"chip\",\n            options: foors.value,\n            placeholder: \"\",\n            showToggleAll: false,\n            pt: multiSelectStyle.value\n          }, {\n            itemcheckboxicon: _withCtx(() => []),\n            option: _withCtx((slotProps) => [\n              _createElementVNode(\"div\", _hoisted_12, _toDisplayString(slotProps.option), 1)\n            ]),\n            _: 1\n          }, 8, [\"modelValue\", \"options\", \"pt\"])\n        ]),\n        _hoisted_13,\n        _createElementVNode(\"div\", _hoisted_14, [\n          _createVNode(_component_InputSwitch, {\n            modelValue: isCommon.value,\n            \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((isCommon).value = $event))\n          }, null, 8, [\"modelValue\"]),\n          _hoisted_15\n        ]),\n        (!isCommon.value)\n          ? (_openBlock(), _createElementBlock(\"div\", _hoisted_16, [\n              _hoisted_17,\n              _createVNode(_component_MultiSelect, {\n                modelValue: selectedSections.value,\n                \"onUpdate:modelValue\": _cache[3] || (_cache[3] = ($event: any) => ((selectedSections).value = $event)),\n                display: \"chip\",\n                options: sections.value,\n                placeholder: \"\",\n                showToggleAll: false,\n                pt: multiSelectStyle.value\n              }, {\n                itemcheckboxicon: _withCtx(() => []),\n                option: _withCtx((slotProps) => [\n                  _createElementVNode(\"div\", _hoisted_18, _toDisplayString(slotProps.option), 1)\n                ]),\n                _: 1\n              }, 8, [\"modelValue\", \"options\", \"pt\"])\n            ]))\n          : _createCommentVNode(\"\", true)\n      ]),\n      _createElementVNode(\"div\", _hoisted_19, [\n        _createElementVNode(\"div\", _hoisted_20, [\n          _createVNode(_component_InputSwitch, {\n            modelValue: viewChangeSideWorld.value,\n            \"onUpdate:modelValue\": _cache[4] || (_cache[4] = ($event: any) => ((viewChangeSideWorld).value = $event))\n          }, null, 8, [\"modelValue\"]),\n          _hoisted_21\n        ]),\n        (viewChangeSideWorld.value)\n          ? (_openBlock(), _createBlock(ChangeSideWorld, { key: 0 }))\n          : _createCommentVNode(\"\", true)\n      ])\n    ]),\n    _createElementVNode(\"div\", _hoisted_22, [\n      _withDirectives(_createVNode(CanvasMarkupFloor, { image: sourceImage.value }, null, 8, [\"image\"]), [\n        [_vShow, sourceImage.value]\n      ]),\n      _withDirectives(_createElementVNode(\"div\", _hoisted_23, [\n        _createElementVNode(\"input\", {\n          type: \"file\",\n          ref: \"inputFile\",\n          class: \"hidden\",\n          id: \"changeFileInput\",\n          onChange: _cache[5] || (_cache[5] = ($event: any) => (changeFile($event)))\n        }, null, 544),\n        _hoisted_24\n      ], 512), [\n        [_vShow, !sourceImage.value]\n      ])\n    ])\n  ]))\n}\n}\n\n})","import script from \"./markupFloor.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./markupFloor.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./markupFloor.vue?vue&type=style&index=0&id=1eaa9a79&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-1eaa9a79\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-5745dce5\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"editPlanFloors bg-white\" }\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"editPlanFloors__title mb-7.5\" }, \" Редактирование планировки этажа \", -1))\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"svg\", {\n  width: \"18\",\n  height: \"19\",\n  viewBox: \"0 0 18 19\",\n  fill: \"none\",\n  xmlns: \"http://www.w3.org/2000/svg\",\n  class: \"w-[22px] h-auto mr-2.5\"\n}, [\n  /*#__PURE__*/_createElementVNode(\"path\", {\n    d: \"M9.00161 8.75C8.8027 8.75 8.61193 8.82902 8.47128 8.96967C8.33063 9.11032 8.25161 9.30109 8.25161 9.5V11.75C8.25161 11.9489 8.33063 12.1397 8.47128 12.2803C8.61193 12.421 8.8027 12.5 9.00161 12.5C9.20052 12.5 9.39129 12.421 9.53194 12.2803C9.67259 12.1397 9.75161 11.9489 9.75161 11.75V9.5C9.75161 9.30109 9.67259 9.11032 9.53194 8.96967C9.39129 8.82902 9.20052 8.75 9.00161 8.75ZM9.00161 6.5C8.85327 6.5 8.70827 6.54399 8.58493 6.6264C8.46159 6.70881 8.36546 6.82594 8.3087 6.96299C8.25193 7.10003 8.23708 7.25083 8.26602 7.39632C8.29496 7.5418 8.36639 7.67544 8.47128 7.78033C8.57617 7.88522 8.70981 7.95665 8.85529 7.98559C9.00078 8.01453 9.15158 7.99968 9.28862 7.94291C9.42567 7.88614 9.5428 7.79001 9.62521 7.66668C9.70762 7.54334 9.75161 7.39834 9.75161 7.25C9.75161 7.05109 9.67259 6.86032 9.53194 6.71967C9.39129 6.57902 9.20052 6.5 9.00161 6.5ZM9.00161 2C8.01669 2 7.04142 2.19399 6.13148 2.5709C5.22154 2.94781 4.39475 3.50026 3.69831 4.1967C2.29178 5.60322 1.50161 7.51088 1.50161 9.5C1.49505 11.2319 2.0947 12.9114 3.19661 14.2475L1.69661 15.7475C1.59254 15.853 1.52204 15.9869 1.49401 16.1324C1.46598 16.2779 1.48167 16.4284 1.53911 16.565C1.6014 16.6999 1.70239 16.8133 1.82924 16.8908C1.9561 16.9682 2.10311 17.0063 2.25161 17H9.00161C10.9907 17 12.8984 16.2098 14.3049 14.8033C15.7114 13.3968 16.5016 11.4891 16.5016 9.5C16.5016 7.51088 15.7114 5.60322 14.3049 4.1967C12.8984 2.79018 10.9907 2 9.00161 2ZM9.00161 15.5H4.05911L4.75661 14.8025C4.82747 14.733 4.88385 14.6502 4.92247 14.5588C4.9611 14.4674 4.9812 14.3692 4.98161 14.27C4.97879 14.0722 4.89792 13.8835 4.75661 13.745C3.77455 12.764 3.16299 11.4729 3.02613 10.0916C2.88926 8.71029 3.23557 7.32425 4.00603 6.16964C4.77649 5.01503 5.92345 4.16327 7.25149 3.75948C8.57954 3.35569 10.0065 3.42485 11.2893 3.95519C12.572 4.48552 13.6312 5.44421 14.2864 6.66792C14.9416 7.89163 15.1523 9.30466 14.8825 10.6663C14.6126 12.0279 13.8791 13.2538 12.8068 14.1352C11.7344 15.0166 10.3897 15.4989 9.00161 15.5Z\",\n    fill: \"#3A8EFA\"\n  })\n], -1))\nconst _hoisted_4 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", { class: \"2xl:max-w-[1300px] xl:max-w-[990px] 2xl:text-base xl:text-sm\" }, \" Отметьте на поэтажном плане границы помещения. Кликните кнопкой мыши на размеченную область и свяжите её с соответствующей планировкой. Разметьте таким образом каждое помещение на плане. Если возникнут вопросы обратитесь к инструкции. Быстрые кнопки: Левая кнопка мыши = поставить точку, Правая кнопка мыши = удалить точку \", -1))\n\nimport DefaultLayout from \"@/shared/layouts/defaultLayout.vue\";\nimport MarkupFloor from \"@/widgets/editPlanFloor/markupFloor.vue\";\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'EditPlanFloors',\n  setup(__props) {\n\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_Message = _resolveComponent(\"Message\")!\n\n  return (_openBlock(), _createBlock(DefaultLayout, null, {\n    default: _withCtx(() => [\n      _createElementVNode(\"div\", _hoisted_1, [\n        _hoisted_2,\n        _createVNode(_component_Message, {\n          severity: \"info\",\n          closable: false\n        }, {\n          messageicon: _withCtx(() => [\n            _hoisted_3\n          ]),\n          default: _withCtx(() => [\n            _hoisted_4\n          ]),\n          _: 1\n        }),\n        _createVNode(MarkupFloor, { class: \"mt-7.5\" })\n      ])\n    ]),\n    _: 1\n  }))\n}\n}\n\n})","import script from \"./EditPlanFloors.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./EditPlanFloors.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./EditPlanFloors.vue?vue&type=style&index=0&id=5745dce5&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-5745dce5\"]])\n\nexport default __exports__"],"names":["useCanvas","canvas","ref","ctx","sourceImage","imageSize","figures","currentFigure","currentHoveredFigure","idFigureOnContextMenu","contextMenuOptions","isVisible","x","y","clickHandler","e","value","clientX","getBoundingClientRect","left","clientY","top","push","isClosedFigure","id","randomId","points","bg","getRandomColor","localStorage","setItem","JSON","stringify","redraw","contextmenuHandler","preventDefault","length","pop","figure","path","createFigurePath","isPointInPath","mousemoveHandler","firstPoint","lastPoint","distanceX","Math","abs","distanceY","Path2D","moveTo","i","lineTo","closePath","deleteFigure","index","findIndex","el","splice","uploadImage","file","canvasEl","getContext","getItem","parse","reader","FileReader","onload","target","image","Image","naturalWidth","width","naturalHeight","height","removeItem","src","result","readAsDataURL","clearRect","drawImage","fillStyle","fill","strokeStyle","point","beginPath","arc","PI","prevPoint","stroke","usedColors","Set","map","availableColors","unusedColors","filter","color","has","hexToRgb","randomIndex","floor","random","startsWith","randomColor","hex","exec","objColor","r","parseInt","g","b","toString","substring","_withScopeId","n","_pushScopeId","_popScopeId","_hoisted_1","_createElementVNode","class","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_defineComponent","__name","props","visibleWindow","type","Boolean","emits","setup","__props","emit","toRefs","_ctx","_cache","_component_Dialog","_resolveComponent","_openBlock","_createBlock","modal","visible","_unref","$event","_isRef","style","draggable","header","_withCtx","default","_createElementBlock","_Fragment","_renderList","key","onClick","require","alt","_","__exports__","viewBox","xmlns","d","visibleWindowChangePlan","confirm","useConfirm","canvasContainer","itemsContextMenu","label","icon","command","showTemplate","confirmpopupStyle","root","content","message","footer","rejectButton","acceptButton","event","currentTarget","group","acceptLabel","rejectLabel","acceptClass","rejectClass","accept","reject","watch","newV","console","log","fullScreen","requestFullscreen","document","fullscreenElement","exitFullscreen","onMounted","addEventListener","_component_Button","ref_key","_createVNode","ConnectionWithLayout","_normalizeClass","_normalizeStyle","item","innerHTML","_toDisplayString","ConfirmPopup","pt","severity","_createTextVNode","for","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","viewChangeSideWorld","isCommon","foors","selectedFloors","sections","selectedSections","multiSelectStyle","token","wrapper","list","context","selected","checkboxContainer","changeFile","files","_component_Message","_component_MultiSelect","_component_InputSwitch","_withDirectives","onChange","_vShow","closable","messageicon","modelValue","display","options","placeholder","showToggleAll","itemcheckboxicon","option","slotProps","_createCommentVNode","ChangeSideWorld","CanvasMarkupFloor","DefaultLayout","MarkupFloor"],"sourceRoot":""}